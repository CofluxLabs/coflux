version: "3.7"

services:
  repo_one:
    build: "."
    volumes:
      - ".:/app"
      - "../../clients/python:/packages"
    environment:
      PROJECT: project_1
      ENVIRONMENT: dev/one
      HOST: host.docker.internal:7070
      MODULE: app.repo
      VERSION: 1
    init: true
    extra_hosts:
      - "host.docker.internal:host-gateway"

  repo_two:
    build: "."
    volumes:
      - ".:/app"
      - "../../clients/python:/packages"
    environment:
      PROJECT: project_1
      ENVIRONMENT: dev/two
      HOST: host.docker.internal:7070
      MODULE: app.repo
      VERSION: 1
    init: true
    extra_hosts:
      - "host.docker.internal:host-gateway"
